syntax = "proto3";

package market_simulation;

option go_package = "github.com/fynnwu/FinancialTrading/go-api/market-simulation;market_simulation";

import "google/protobuf/timestamp.proto";

// MarketSimulationService 提供市场模拟服务
service MarketSimulationService {
  // 启动模拟
  rpc StartSimulation (StartSimulationRequest) returns (StartSimulationResponse);
  // 停止模拟
  rpc StopSimulation (StopSimulationRequest) returns (StopSimulationResponse);
  // 获取模拟状态
  rpc GetSimulationStatus (GetSimulationStatusRequest) returns (GetSimulationStatusResponse);
}

// 模拟场景
message SimulationScenario {
  string id = 1;
  string name = 2;
  string description = 3;
  string symbol = 4;
  string type = 5; // RANDOM_WALK, REPLAY, SHOCK
  string parameters = 6; // JSON string
  string status = 7; // RUNNING, STOPPED
  google.protobuf.Timestamp start_time = 8;
  google.protobuf.Timestamp end_time = 9;
}

// 启动模拟请求
message StartSimulationRequest {
  string name = 1;
  string symbol = 2;
  string type = 3;
  string parameters = 4;
}

// 启动模拟响应
message StartSimulationResponse {
  string simulation_id = 1;
}

// 停止模拟请求
message StopSimulationRequest {
  string simulation_id = 1;
}

// 停止模拟响应
message StopSimulationResponse {
  bool success = 1;
}

// 获取模拟状态请求
message GetSimulationStatusRequest {
  string simulation_id = 1;
}

// 获取模拟状态响应
message GetSimulationStatusResponse {
  SimulationScenario scenario = 1;
}
