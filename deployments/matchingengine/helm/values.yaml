image:
  repository: financialtrading/matchingengine
  pullPolicy: IfNotPresent
  tag: "latest"

service:
  type: ClusterIP
  httpPort: 8085
  grpcPort: 9085

config:
  server:
    name: "matchingengine-service"
    environment: "dev"
    http:
      port: 8085
      timeout: "10s"
    grpc:
      port: 9085
      timeout: "10s"
  log:
    level: "info"
    format: "json"
    output: "stdout"
  data:
    database:
      driver: "mysql"
      dsn: "root:password@tcp(mysql:3306)/financial_matchingengine?charset=utf8mb4&parseTime=True&loc=Local"
      max_idle_conns: 10
      max_open_conns: 100
      conn_max_lifetime: "1h"
    redis:
      addrs: ["redis:6379"]
      password: ""
      db: 0
      pool_size: 10
      min_idle_conns: 5
      read_timeout: "3s"
      write_timeout: "3s"
    elasticsearch:
      addresses: ["http://elasticsearch:9200"]
      username: ""
      password: ""
  messagequeue:
    kafka:
      brokers: ["kafka:9092"]
      topic: "financial.matching.events"
      group_id: "matching-projection-group"
  services:
    order:
      grpc_addr: "order:9088"
    clearing:
      grpc_addr: "clearing:9090"
  matching:
    symbol: "BTC-USDT"
  tracing:
    enabled: false
    service_name: "matchingengine-service"
    otlp_endpoint: "otel-collector:4317"

resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi
